{"version":3,"sources":["Utils/APICalls.js","Utils/SteamID.js","Utils/PlayerRanking.js","Components/Dialog.js","Components/Autocomplete.js","Utils/PlayerCountry.js","Components/PlayerProfile.js","Components/PlayerChip.js","App.js","Hooks/useLocalStorage.js","reportWebVitals.js","index.js"],"names":["globalAPI","axios","create","baseURL","steamAPI","PlayerRecords","identifier","a","url","GetSteam64","steamid","params","steamid64","modes_list_string","has_teleports","stage","tickrate","limit","get","SteamProfile","steamids","SteamVanityURL","vanityURL","split","pop","replace","myInput","isValidSteamId64","isValidSteamId32","steamId32Array","accountIdLowBit","accountIdHighBits","parseInt","toString","secondHalf","padStart","steamId64","BigInt","isValidSteamProfile","exec","isValidVanityProfile","data","response","success","console","log","steamID","test","steamProfile","RANKING","PlayerRanking","points","completions","average","easeOutCubic","Math","pow","avg","floor","Dialog","children","visible","header","footer","style","className","Autocomplete","value","onChange","suggestions","field","placeholder","itemTemplate","type","e","target","map","item","index","onMouseDown","PlayerCountry","code","countryFound","countries","find","country","Code","Name","PlayerProfile","player","inverted","bannerPlayers","width","flexDirection","src","avatarfull","alt","marginLeft","marginRight","textAlign","overflow","length","name","rank","toLocaleString","loc","title","wrs","reds","blues","PlayerChip","setBannerPlayers","deletePlayer","includes","onClick","oldPlayers","newPlayers","playerIndex","findIndex","p","splice","avatar","App","key","initialValue","useState","window","localStorage","getItem","JSON","parse","error","storedValue","setStoredValue","valueToStore","Function","setItem","stringify","useLocalStorage","playerPool","setPlayerPool","steamIdInput","setSteamIdInput","dialogVisibility","setDialogVisibility","nationalityInput","setNationalityInput","filteredCountries","setFilteredCountries","showBackground","setShowBackground","addPlayer","Promise","all","then","responses","playerProfile","players","playerTimes","timesData","reduce","b","newPlayer","personaname","loccountrycode","toFixed","oldPool","newPool","push","catch","err","playerToDelete","dialogFooter","display","justifyContent","disabled","filter","useEffect","_filteredCountries","trim","toLowerCase","backgroundImage","htmlFor","id","checked","marginBottom","alignItems","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c3f36db7.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nimport { GetSteam64 } from './SteamID'\r\n\r\nconst globalAPI = axios.create({\r\n    baseURL: 'https://kztimerglobal.com/api/v2.0/'\r\n})\r\n\r\nconst steamAPI = axios.create({\r\n    baseURL: 'https://kzprofile.kreedz.top/api/v1/'\r\n})\r\n\r\nexport async function PlayerRecords (identifier) {\r\n    const url = 'records/top'\r\n\r\n    const steamid = await GetSteam64(identifier)\r\n\r\n    let params = {\r\n        steamid64: steamid,\r\n        modes_list_string: \"kz_vanilla\",\r\n        has_teleports: false,\r\n        stage: 0,\r\n        tickrate: 128,\r\n        limit: 9999\r\n    }\r\n\r\n    return globalAPI.get( url, {params: params} )\r\n}\r\n\r\nexport async function SteamProfile (identifier) {\r\n    const url = 'steam'\r\n\r\n    const steamid = await GetSteam64(identifier)\r\n\r\n    let params = {\r\n        steamids: steamid\r\n    }\r\n\r\n    return steamAPI.get( url, {params: params} )\r\n}\r\n\r\nexport function SteamVanityURL (vanityURL) {\r\n    //https://api.steampowered.com/ISteamUser/ResolveVanityURL/v0001/?key=023DC037A9187B9DD374365F858B5545&vanityurl=Syuks\r\n    \r\n    const url = 'steam/vanity'\r\n\r\n    const vanityKey = vanityURL.split(\"/id/\").pop().replace(\"/\",\"\")\r\n\r\n    const params = {\r\n        url: vanityKey\r\n    }\r\n\r\n    return steamAPI.get( url, {params: params} )\r\n}","//https://developer.valvesoftware.com/wiki/SteamID\r\n//http://whatsmysteamid.azurewebsites.net/\r\n\r\n//Steam64 = 76561198267993933\r\n//Binary  = 00000001 0001 00000000000000000001 0001001001010111100011110100110 1\r\n//          ^      ^ ^  ^ ^                  ^ ^                             ^ ^\r\n//          |______| |__| |__________________| |_____________________________| |\r\n//              U     AT        INSTANCE              32-BIT ACCOUNT ID        Y\r\n//Steam32  = STEAM_1:1:153864102 -> STEAM_U:Y:32-bit\r\n//Y is actually part of the 32 bits, it is just displayed separetly\r\n\r\nimport { SteamVanityURL } from \"./APICalls\"\r\n\r\nexport async function GetSteam64 (myInput) {\r\n\r\n    if (isValidSteamId64(myInput)) {\r\n        return myInput\r\n    }\r\n\r\n    if (isValidSteamId32(myInput)) {\r\n        \r\n        //will just assume universe, account type and instance as 1\r\n\r\n        var firstHalf = \"00000001000100000000000000000001\"\r\n\r\n        var steamId32Array = myInput.split(\":\")\r\n\r\n        var accountIdLowBit = steamId32Array[1]\r\n\r\n        var accountIdHighBits = parseInt(steamId32Array[2]).toString(2) //toString(2) from int to bits\r\n\r\n        var secondHalf = accountIdHighBits.padStart(31, '0') + accountIdLowBit //padStart makes sure we get the whole 31 bits with leading zeros\r\n\r\n        var steamId64 = BigInt('0b' + (firstHalf + secondHalf)) //parsing the string back to a number\r\n        \r\n        return steamId64.toString()\r\n    }\r\n\r\n    if (isValidSteamProfile(myInput)) {\r\n        return /^https:\\/\\/steamcommunity\\.com\\/profiles\\/([0-9]{17})(?:\\/)?$/.exec(myInput)[1]\r\n    }\r\n\r\n    if (isValidVanityProfile(myInput)) {\r\n        try {\r\n            const { data } = await SteamVanityURL(myInput)\r\n            if (data?.response.success === 1) {\r\n                return data.response.steamid\r\n            }\r\n            return null\r\n        } catch (err) {\r\n            console.log(err)\r\n            return null\r\n        }\r\n    }\r\n\r\n    return null\r\n}\r\n\r\nexport async function GetSteam32 (myInput) {\r\n\r\n    if (isValidSteamId32(myInput)) {\r\n        return myInput\r\n    }\r\n    \r\n    if (isValidSteamId64(myInput)) {\r\n        var steamId64 = BigInt(myInput)\r\n\r\n        var universe = (steamId64 >> 56n) & 0xFFn\r\n\r\n        var accountIdLowBit = steamId64 & 1n\r\n\r\n        var accountIdHighBits = (steamId64 >> 1n) & 0x7FFFFFFFn\r\n\r\n        return(\"STEAM_\" + universe + \":\" + accountIdLowBit + \":\" + accountIdHighBits)\r\n    }\r\n\r\n    if (isValidSteamProfile(myInput)) {\r\n        return /^https:\\/\\/steamcommunity\\.com\\/profiles\\/([0-9]{17})(?:\\/)?$/.exec(myInput)[1]\r\n    }\r\n\r\n    if (isValidVanityProfile(myInput)) {\r\n        try {\r\n            const { data } = await SteamVanityURL(myInput)\r\n            if (data?.response.success === 1) {\r\n                return data.response.steamid\r\n            }\r\n            return null\r\n        } catch (err) {\r\n            console.log(err)\r\n            return null\r\n        }\r\n    }\r\n    \r\n    return null\r\n}\r\n\r\nexport function isValidInput (myInput) {\r\n    if (isValidSteamId64(myInput) || isValidSteamId32(myInput) || isValidSteamProfile(myInput) || isValidVanityProfile(myInput)) {\r\n        return true\r\n    }\r\n\r\n    return false\r\n}\r\n\r\nfunction isValidSteamId64(steamID) {\r\n    //76561199039866117\r\n    return /^[0-9]{17}$/.test(steamID)\r\n}\r\n\r\nfunction isValidSteamId32(steamID) {\r\n    //STEAM_1:1:153864102\r\n    return /^STEAM_[0-5]:[01]:\\d+$/.test(steamID)\r\n}\r\n\r\nfunction isValidSteamProfile(steamProfile) {\r\n    //profiles is with steam64s\r\n    //https://steamcommunity.com/profiles/76561199039866117/\r\n    return /^https:\\/\\/steamcommunity\\.com\\/profiles\\/([0-9]{17})(?:\\/)?$/.test(steamProfile)\r\n}\r\n\r\nfunction isValidVanityProfile(steamProfile) {\r\n    //id is with vanity url\r\n    //https://steamcommunity.com/id/Syuks/\r\n    return /^https:\\/\\/steamcommunity\\.com\\/id\\/\\S+$/.test(steamProfile)\r\n}","const RANKING = [\r\n    \"NEWBIE\",\r\n    \"NEWBIE+\",\r\n    \"SCRUB\",\r\n    \"SCRUB+\",\r\n    \"TRAINEE\",\r\n    \"TRAINEE+\",\r\n    \"CASUAL\",\r\n    \"CASUAL+\",\r\n    \"REGULAR\",\r\n    \"REGULAR+\",\r\n    \"SKILLED\",\r\n    \"SKILLED+\",\r\n    \"EXPERT\",\r\n    \"EXPERT+\",\r\n    \"SEMIPRO\",\r\n    \"SEMIPRO+\",\r\n    \"PRO\",\r\n    \"PRO+\",\r\n    \"DEMIGOD\",\r\n    \"GOD\"\r\n]\r\n\r\nexport default function PlayerRanking (points, completions) {\r\n    //The rank is bassically dependant on avg points, but if you have less than 50k points, your rank will be decreased by an ease cubic function\r\n    \r\n    const average = points/50000\r\n    \r\n    let easeOutCubic = (1 - (Math.pow(1 - average, 3)))\r\n    if (easeOutCubic > 1) {\r\n        easeOutCubic = 1\r\n    }\r\n    \r\n    const avg = completions > 0 ? points/completions : 0\r\n    \r\n    return RANKING[(Math.floor((avg * easeOutCubic) * 0.02))]\r\n}","import \"./Dialog.css\"\r\n\r\nfunction Dialog ({ children, visible, header, footer, style }) {\r\n\r\n    return (\r\n        visible ?\r\n        <div className=\"dialog-mask\">\r\n            <div className=\"dialog\" style={style}>\r\n                <div className=\"dialog-header\">{header}</div>\r\n                <div className=\"dialog-content\">{children}</div>\r\n                <div className=\"dialog-footer\">{footer}</div>\r\n            </div>\r\n        </div> :\r\n        null\r\n    )\r\n}\r\n\r\nexport default Dialog","import \"./Autocomplete.css\"\r\n\r\nfunction Autocomplete ({value, onChange, suggestions, field, placeholder, itemTemplate}) {\r\n\r\n    return (\r\n        <div className=\"autocomplete\">\r\n            <input type=\"search\" placeholder={placeholder} value={value} onChange={e => onChange(e.target.value)} />\r\n            <div className=\"dropdown\">\r\n                {suggestions.map((item, index) => {\r\n                    return (\r\n                        <button\r\n                            key={index}\r\n                            onMouseDown={() => onChange(item[field])}\r\n                        >\r\n                            {itemTemplate(item)}\r\n                        </button>\r\n                    )\r\n                })}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Autocomplete","import countries from \"../Data/countries.json\"\r\n\r\nexport default function PlayerCountry (code) {\r\n    const countryFound = countries.find(country => {\r\n        return country.Code === code\r\n    })\r\n\r\n    return countryFound ? countryFound.Name : \"Unknown\"\r\n}","import \"./PlayerProfile.css\"\r\n\r\nimport PlayerCountry from \"../Utils/PlayerCountry\"\r\n\r\nfunction PlayerProfile ({ player, inverted, bannerPlayers }) {\r\n    return (\r\n        <div style={{width: \"40%\"}}>\r\n\r\n            <div className=\"player\" style={{flexDirection: inverted ? \"row-reverse\" : \"row\"}}>\r\n                <div className=\"avatar\">\r\n                    <img className=\"avatar-image\" src={player.avatarfull} alt=\"playerAvatar\" />\r\n                </div>\r\n                <div className=\"info-col\" style={{\r\n                    marginLeft: inverted ? 0 : \"3rem\",\r\n                    marginRight: inverted ? \"3rem\" : 0,\r\n                    textAlign: inverted ? \"end\" : \"start\",\r\n                    overflow: bannerPlayers.length > 1 ? \"hidden\" : \"unset\"\r\n                }}>\r\n                    <div className=\"info-name\">{player.name}</div>\r\n                    <div className={`info-rank ${player.rank}`}>{player.rank}</div>\r\n                    <div className=\"info-points\">{`${player.points.toLocaleString()} (${player.avg})`}</div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"bottom-row\" style={{flexDirection: inverted ? \"row-reverse\" : \"row\"}}>\r\n                <div className=\"country-box\">\r\n                    <div className=\"country-name\">{PlayerCountry(player.loc)}</div>\r\n                    <div>\r\n                        <img title={player.loc} alt={player.loc} src={`/flags/${player.loc}.png`}/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"medals\" style={{flexDirection: inverted ? \"row-reverse\" : \"row\"}}>\r\n                    <div className=\"medal\">\r\n                        <div className=\"medal-image\">\r\n                            <img src={`/images/medals/WRs${player.wrs === 0 ? \"-empty\" : \"\"}.png`} alt=\"WRsMedal\" />\r\n                        </div>\r\n                        <div className=\"medal-count\">{player.wrs}</div>\r\n                    </div>\r\n                    <div className=\"medal\">\r\n                        <div className=\"medal-image\">\r\n                            <img src={`/images/medals/900s${player.reds === 0 ? \"-empty\" : \"\"}.png`} alt=\"900sMedal\" />\r\n                        </div>\r\n                        <div className=\"medal-count\">{player.reds}</div>\r\n                    </div>\r\n                    <div className=\"medal\">\r\n                        <div className=\"medal-image\">\r\n                            <img src={`/images/medals/800s${player.blues === 0 ? \"-empty\" : \"\"}.png`} alt=\"800sMedal\" />\r\n                        </div>\r\n                        <div className=\"medal-count\">{player.blues}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PlayerProfile","import \"./PlayerChip.css\"\r\n\r\nfunction PlayerChip ({ player, bannerPlayers, setBannerPlayers, deletePlayer }) {\r\n\r\n    const onChipClicked = () => {\r\n        setBannerPlayers(oldPlayers => {\r\n            let newPlayers = [...oldPlayers]\r\n\r\n            const playerIndex = newPlayers.findIndex(p => {\r\n                return p.steamid === player.steamid\r\n            })\r\n\r\n            if (playerIndex !== -1) {\r\n                newPlayers.splice(playerIndex, 1)\r\n            } else {\r\n                newPlayers.splice(1, 1, player)\r\n            }\r\n            \r\n            return newPlayers\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"player-chip\">\r\n            <button className={`player-button ${bannerPlayers.includes(player) ? \"active\" : \"\"}`} onClick={onChipClicked}>\r\n                <img src={player.avatar} alt={player.name} />\r\n                <span>{player.name}</span>\r\n            </button>\r\n            <button className=\"delete-button\" onClick={e => deletePlayer(player)}>x</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PlayerChip","import { useState, useEffect } from 'react'\n\nimport './App.css'\n\nimport countries from \"./Data/countries.json\"\n\nimport { useLocalStorage } from './Hooks/useLocalStorage'\n\nimport { isValidInput } from './Utils/SteamID'\nimport { GetSteam64 } from './Utils/SteamID'\nimport { PlayerRecords, SteamProfile } from './Utils/APICalls'\nimport PlayerRanking from './Utils/PlayerRanking'\nimport Dialog from './Components/Dialog'\nimport Autocomplete from './Components/Autocomplete'\n\nimport PlayerProfile from './Components/PlayerProfile'\nimport PlayerChip from './Components/PlayerChip'\n\nfunction App() {\n\n    const [playerPool, setPlayerPool] = useLocalStorage(\"playerPool\", [])\n    const [bannerPlayers, setBannerPlayers] = useState([])\n\n    const [steamIdInput, setSteamIdInput] = useState(\"\")\n\n    const [dialogVisibility, setDialogVisibility] = useState(false)\n    const [nationalityInput, setNationalityInput] = useState(\"\")\n    const [filteredCountries, setFilteredCountries] = useState(countries)\n\n    const [showBackground, setShowBackground] = useState(false)\n\n    const addPlayer = async () => {\n        setSteamIdInput(\"\")\n        const steamid = await GetSteam64(steamIdInput)\n        \n        if (steamid) {\n            const playerFound = playerPool.find(player => {\n                return player.steamid === steamid\n            })\n\n            if (!playerFound) {\n                Promise.all([SteamProfile(steamid), PlayerRecords(steamid)])\n                    .then(responses => {\n                        const playerProfile = responses[0].data.response.players[0]\n                        const playerTimes = responses[1].data\n\n                        const timesData = playerTimes.reduce(\n                            (a, b) => {\n                                return {\n                                    points: a.points + b.points,\n                                    wrs: a.wrs + (b.points === 1000 ? 1 : 0),\n                                    reds: a.reds + (b.points >= 900 && b.points < 1000 ? 1 : 0),\n                                    blues: a.blues + (b.points >= 800 && b.points < 900 ? 1 : 0)\n                                }\n                            },\n                            {points: 0, wrs: 0, reds: 0, blues: 0}\n                        )\n\n                        const newPlayer = {\n                            steamid: playerProfile.steamid,\n                            name: playerProfile.personaname,\n                            avatar: playerProfile.avatar,\n                            avatarfull: playerProfile.avatarfull,\n                            loc: playerProfile.loccountrycode ? playerProfile.loccountrycode : \"_unknown\",\n                            ...timesData,\n                            avg: playerTimes.length ? (timesData.points / playerTimes.length).toFixed(2) : 0,\n                            rank: PlayerRanking(timesData.points, playerTimes.length)\n                        }\n\n                        setPlayerPool(oldPool => {\n                            let newPool = [...oldPool]\n                            newPool.push(newPlayer)\n                            return newPool\n                        })\n\n                        if (!playerProfile.loccountrycode) {\n                            setDialogVisibility(true)\n                        }\n                    })\n                    .catch(err => {\n                        console.log(err)\n                    })\n            } else {\n                console.log(\"Player already in pool.\")\n            }\n        }\n    }\n\n    const deletePlayer = (player) => {\n        setPlayerPool(oldPool => {\n            let newPool = [...oldPool]\n            const playerToDelete = newPool.findIndex(p => {\n                return p.steamid === player.steamid\n            })\n            newPool.splice(playerToDelete, 1)\n            return newPool\n        })\n        setBannerPlayers([])\n    }\n\n    const dialogFooter = (\n        <div style={{display:\"flex\", justifyContent:\"space-between\"}}>\n            <button\n                className=\"stylized-button button-text\"\n                onClick={e => {\n                    setDialogVisibility(false)\n                    setNationalityInput(\"\")\n                }}\n            >\n                Close\n            </button>\n            <button\n                className=\"stylized-button\"\n                disabled={!countries.filter(country => country.Name === nationalityInput).length}\n                onClick={e => {\n                    setPlayerPool(oldPool => {\n                        let newPool = [...oldPool]\n                        newPool[newPool.length - 1].loc = countries.find(country => country.Name === nationalityInput).Code\n                        return newPool\n                    })\n                    setDialogVisibility(false)\n                    setNationalityInput(\"\")\n                }}\n            >\n                Save\n            </button>\n        </div>\n    )\n\n    const autocompleteTemplate = (item) => {\n        return (\n            <div style={{display: \"flex\", alignItems:\"center\"}}>\n                <img width=\"24\" title={item.Code} alt={item.Code} src={`/flags/${item.Code}.png`}/>\n                <span style={{marginLeft:\"0.5rem\"}}>{item.Name}</span>\n            </div>\n        )\n    }\n\n    useEffect(()=>{\n        let _filteredCountries\n        if (!nationalityInput.trim().length) {\n            _filteredCountries = [...countries]\n        }\n        else {\n            _filteredCountries = countries.filter(country => {\n                return country.Name.toLowerCase().includes(nationalityInput.toLowerCase())\n            })\n        }\n\n        setFilteredCountries(_filteredCountries)\n    },[nationalityInput])\n\n    return (\n        <div className=\"canvas\" style={{backgroundImage: showBackground ? \"url(/images/background.png)\" : \"none\"}}>\n            <div className=\"stream-section\">\n                <div className=\"players-row\" style={{marginLeft: bannerPlayers.length === 1 ? \"10rem\" : 0}}>\n                    {bannerPlayers.map((player, index) => {\n                        return (\n                            <PlayerProfile\n                                key={index}\n                                player={player}\n                                inverted={index === 0 && bannerPlayers.length > 1 ? true : false}\n                                bannerPlayers={bannerPlayers}\n                            />\n                        )\n                    })}\n                    {bannerPlayers.length > 1 && <img className=\"vs-image\" src=\"/images/vs.png\" alt=\"vs\" />}\n                </div>\n            </div>\n            <div className=\"settings-section\">\n                <div className=\"top-bar\">\n                    <div className=\"mode-chooser\"></div>\n                    <div className=\"players-input\">\n                        <input type=\"text\" placeholder=\"Steam ID\" value={steamIdInput} onChange={e => setSteamIdInput(e.target.value)} ></input>\n                        <button disabled={!isValidInput(steamIdInput)} onClick={addPlayer}>ADD</button>\n                    </div>\n                    <div className=\"background-setting\">\n                        <label htmlFor=\"background-checkbox\">Background</label>\n                        <input id=\"background-checkbox\" type=\"checkbox\" checked={showBackground} onChange={e => setShowBackground(e.target.checked)}></input>\n                    </div>\n                </div>\n                <div className=\"players-pool\">\n                    {playerPool.map((player, index) => {\n                        return <PlayerChip\n                            key={index}\n                            player={player}\n                            bannerPlayers={bannerPlayers}\n                            setBannerPlayers={setBannerPlayers}\n                            deletePlayer={deletePlayer}\n                        />\n                    })}\n                </div>\n                <Dialog\n                    visible={dialogVisibility}\n                    header=\"Nationality missing\"\n                    footer={dialogFooter}\n                >\n                    <div style={{marginBottom:\"1rem\"}}>This player doesn't have a nationality in Steam. Please choose one.</div>\n                    <Autocomplete\n                        value={nationalityInput}\n                        onChange={value => setNationalityInput(value)}\n                        placeholder=\"Nationality\"\n                        suggestions={filteredCountries}\n                        field=\"Name\"\n                        itemTemplate={autocompleteTemplate}\n                    />\n                </Dialog>\n            </div>\n        </div>\n    )\n}\n\nexport default App\n","//SOURCE: https://usehooks.com/useLocalStorage/\r\n\r\nimport { useState } from \"react\"\r\n\r\nexport const useLocalStorage = (key, initialValue) => {\r\n    // State to store our value\r\n    // Pass initial state function to useState so logic is only executed once\r\n    const [storedValue, setStoredValue] = useState(() => {\r\n      try {\r\n        // Get from local storage by key\r\n        const item = window.localStorage.getItem(key);\r\n        // Parse stored json or if none return initialValue\r\n        return item ? JSON.parse(item) : initialValue;\r\n      } catch (error) {\r\n        // If error also return initialValue\r\n        console.log(error);\r\n        return initialValue;\r\n      }\r\n    });\r\n    // Return a wrapped version of useState's setter function that ...\r\n    // ... persists the new value to localStorage.\r\n    const setValue = (value) => {\r\n      try {\r\n        // Allow value to be a function so we have same API as useState\r\n        const valueToStore =\r\n          value instanceof Function ? value(storedValue) : value;\r\n        // Save state\r\n        setStoredValue(valueToStore);\r\n        // Save to local storage\r\n        window.localStorage.setItem(key, JSON.stringify(valueToStore));\r\n      } catch (error) {\r\n        // A more advanced implementation would handle the error case\r\n        console.log(error);\r\n      }\r\n    };\r\n    return [storedValue, setValue];\r\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}